

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Reporting &mdash; iCAS Sellside API 0.200 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="iCAS Sellside API 0.200 documentation" href="index.html"/>
        <link rel="next" title="Error Handling" href="error-handling.html"/>
        <link rel="prev" title="XML Feeds" href="feeds.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> iCAS Sellside API</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#image-downloads">Image Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#media-types">Media Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#content-type-and-accept-headers">Content-Type and Accept Headers</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#customize-response-body">Customize response body</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#dates-and-times">Dates and Times</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#prices-and-currencies">Prices and Currencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#http-response-codes-and-error-handling">HTTP Response Codes and Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#dry-run-request-validation">Dry-Run Request Validation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="authentication.html#what-is-oauth-2-0">What is OAuth 2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html#oauth-2-0-roles">OAuth 2.0 Roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html#oauth-2-0-endpoints">OAuth 2.0 Endpoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html#getting-an-access-token">Getting an Access Token</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html#using-an-access-token">Using an Access Token</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html#getting-another-access-token">Getting another Access Token</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html#refresh-tokens-and-token-expiration">Refresh Tokens and Token Expiration</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html#scopes">Scopes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ads.html">Advertisements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ads.html#fields">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="ads.html#images">Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="ads.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ad-status.html">Ad Status</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ad-status.html#user-controlled-states">User Controlled States</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad-status.html#customer-service-states">Customer Service States</a></li>
<li class="toctree-l2"><a class="reference internal" href="ad-status.html#system-states">System States</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="categories.html">Categories</a><ul>
<li class="toctree-l2"><a class="reference internal" href="categories-v1.html">Categories V1</a></li>
<li class="toctree-l2"><a class="reference internal" href="categories-v2.html">Categories V2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="price-types.html">Price Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="attributes.html">Attributes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="attributes.html#category-attributes">Category Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="attributes.html#user-defined-attributes">User-Defined Attributes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="regions.html">Regions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="regions.html#region-ids">Region Ids</a></li>
<li class="toctree-l2"><a class="reference internal" href="regions.html#region-levels">Region Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="regions.html#region-label">Region label</a></li>
<li class="toctree-l2"><a class="reference internal" href="regions.html#region-center">Region center</a></li>
<li class="toctree-l2"><a class="reference internal" href="regions.html#data-model">Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="regions.html#non-leaf-regions">Non-Leaf Regions</a></li>
<li class="toctree-l2"><a class="reference internal" href="regions.html#leaf-regions">Leaf Regions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="campaigns.html">Campaigns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="campaign-overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="campaign-status.html">Campaign Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="campaign-budgets.html">Campaign Budgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="campaign-linkedads.html">Campaign Linked Ads</a></li>
<li class="toctree-l2"><a class="reference internal" href="campaign-targeting.html">Campaign Targeting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="feeds.html">XML Feeds</a><ul>
<li class="toctree-l2"><a class="reference internal" href="feeds.html#errors">Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="feeds.html#character-encoding-line-terminators">Character encoding &amp; Line terminators</a></li>
<li class="toctree-l2"><a class="reference internal" href="feeds.html#whitelisting">Whitelisting</a></li>
<li class="toctree-l2"><a class="reference internal" href="feeds.html#example-xml">Example XML</a></li>
<li class="toctree-l2"><a class="reference internal" href="feeds.html#scenario-s-questions">Scenario&#8217;s &amp; Questions</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reporting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dimensions-and-metrics">Dimensions and Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#time-ranges">Time Ranges</a></li>
<li class="toctree-l2"><a class="reference internal" href="#time-aggregation">Time Aggregation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#filters">Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sorting">Sorting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pagination-with-offset-and-limit">Pagination with offset and limit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#enrichment">Enrichment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#query-and-response">Query and Response</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#errors">Errors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="error-handling.html">Error Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-reference.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference/get-ad.html">GET /ad</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-ad-id.html">GET /ad/{id}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-ad-vendor-id.html">GET /ad/byVendor/{vendorId}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-ad-id-funnel.html">GET /ad/{id}/funnel</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-ad-ids.html">GET /ad/ids</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-ad-externalid-mapping.html">GET /ad/mapping/externalids</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/post-ad.html">POST  /ad</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/post-ad-prefill.html">POST /ad/prefill</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/put-ad-id.html">PUT /ad/{id}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/put-ad-id-status.html">PUT /ad/{id}/status</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-categories.html">GET /categories</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-categories-statistics.html">GET /categories/statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-category.html">GET /category</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-category-id.html">GET /category/{id}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-category-id-attributes.html">GET /category/{id}/attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-category-id-funnel.html">GET /category/{id}/funnel</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-region-id.html">GET /region/{id}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-regions.html">GET /regions</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-image.html">GET /image/{id}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/post-image.html">POST /image</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-campaigns.html">GET /campaigns</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/post-campaign.html">POST /campaign</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/delete-campaign.html">DELETE /campaign/{id}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-campaign-id.html">GET /campaign/{id}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-campaign-vendor-id.html">GET /campaign/byVendor/{vendorId}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/put-campaign-vendor-id.html">PUT /campaign/{id}/vendorId/{vendorId}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-campaign-budgets.html">GET /campaign/{id}/budgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/put-campaign-budgets.html">PUT /campaign/{id}/budgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-campaign-targeting.html">GET /campaign/{id}/targeting</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/put-campaign-targeting.html">PUT /campaign/{id}/targeting</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-campaign-linkedads.html">GET /campaign/{id}/linkedAds</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/put-campaign-linkedads.html">PUT /campaign/{id}/linkedAds</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/delete-campaign-linkedads.html">DELETE /campaign/{id}/linkedAds</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-campaign-funnel.html">GET /campaign/{id}/funnel</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/put-campaign-status.html">PUT /campaign/{id}/status/{status}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-feed-config.html">GET /feed/config</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/post-feed-config.html">POST /feed/config</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-feed-import.html">GET /feed/import</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-feed-import-id-detail.html">GET /feed/import/{id}/detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-feed-import-id-detail-vendor-id.html">GET /feed/import/{id}/detail/{vendorId}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-feed-xsd.html">GET /feed/xsd</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-report.html">GET /report</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-report-detail.html">GET /report/detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-report-detail-id.html">GET /report/detail/{id}</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/post-report-detail.html">POST /report/detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-metrics-ads.html">GET /metrics/ads</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-report-summary.html">GET /report/summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/post-metrics-data.html">POST /metrics/data</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/get-user.html">GET /user</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/error-codes.html">Error Codes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deprecation.html">Deprecation Plan</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">iCAS Sellside API</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Reporting</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/reporting.rst.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="reporting">
<span id="metrics-reporting"></span><h1>Reporting<a class="headerlink" href="#reporting" title="Permalink to this headline">¶</a></h1>
<p>The Reporting API allows you to get statistics about the performance of your ads in a flexible ad-hoc way. It is inspired by
APIs like <a class="reference external" href="https://developers.google.com/analytics/devguides/reporting/core">Google Analytics</a> and <a class="reference external" href="https://tech.yandex.com/metrika/">Yandex Metrica</a> and borrows some terminology from them.
It is possible to create a custom-tailored report structure using concepts like dimensions, metrics, filters, and sorting, in the API query.</p>
<div class="section" id="dimensions-and-metrics">
<h2>Dimensions and Metrics<a class="headerlink" href="#dimensions-and-metrics" title="Permalink to this headline">¶</a></h2>
<p>Dimensions and metrics are the main concepts used for making requests.</p>
<div class="section" id="dimensions">
<h3>Dimensions<a class="headerlink" href="#dimensions" title="Permalink to this headline">¶</a></h3>
<p>A <strong>dimension</strong> is an attribute of each performance event, and is used for grouping your data. For example, the dimension <em>Country</em> indicates
where a click originated from. The <em>Date</em> dimension indicates the date when a particular ad was viewed or clicked.
It is also possible to make a report without dimensions; in this case, the total result is calculated. Check the list of currently <a class="reference internal" href="#supported-dimensions">Supported Dimensions</a>.</p>
</div>
<div class="section" id="metrics">
<h3>Metrics<a class="headerlink" href="#metrics" title="Permalink to this headline">¶</a></h3>
<p id="id1"><strong>Metrics</strong> are numeric values based on quantitative aggregations over dimensions&#8217; values; every query requires at least one metric field to be requested.
For example, the metric <em>Clicks</em> indicates the total number of clicks, while <em>ViewCTR</em> indicates the click-through rate for ads. Check the list of currently <a class="reference internal" href="#supported-metrics">Supported Metrics</a>.</p>
<div class="admonition note" id="sql-note">
<p class="first admonition-title">Note</p>
<p class="last">If you are familiar with SQL, you can think of dimensions as columns used for grouping, and metrics as the results returned by aggregate functions. The tables in most reports organize dimension values into rows, and metrics into columns.</p>
</div>
<p>To grasp the different views that a report can generate, below is an example of tabular representation typical for analytics reports:</p>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="20%" />
<col width="45%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">DIMENSION</th>
<th class="head">METRIC</th>
<th class="head">METRIC</th>
</tr>
<tr class="row-even"><th class="head"><em>Country</em></th>
<th class="head"><em>Clicks</em></th>
<th class="head"><em>ViewCTR</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>Netherlands</td>
<td>1234</td>
<td>0.5678</td>
</tr>
<tr class="row-even"><td>Spain</td>
<td>987</td>
<td>0.123</td>
</tr>
<tr class="row-odd"><td>France</td>
<td>64523</td>
<td>0.2643</td>
</tr>
</tbody>
</table>
<p>If we add a secondary dimension, for example <em>Category</em>, the resulting view could be:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="29%" />
<col width="19%" />
<col width="23%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">DIMENSION</th>
<th class="head">DIMENSION</th>
<th class="head">METRIC</th>
<th class="head">METRIC</th>
</tr>
<tr class="row-even"><th class="head"><em>Country</em></th>
<th class="head"><em>Category</em></th>
<th class="head"><em>Clicks</em></th>
<th class="head"><em>ViewCTR</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>Netherlands</td>
<td>Bicycles</td>
<td>356</td>
<td>0.5678</td>
</tr>
<tr class="row-even"><td>Netherlands</td>
<td>Camping Gear</td>
<td>174</td>
<td>0.455</td>
</tr>
<tr class="row-odd"><td>Netherlands</td>
<td>Mobile Phones</td>
<td>546</td>
<td>0.0245</td>
</tr>
<tr class="row-even"><td>. . .</td>
<td>. . .</td>
<td>. . .</td>
<td>. . .</td>
</tr>
<tr class="row-odd"><td>Spain</td>
<td>Bicycles</td>
<td>987</td>
<td>0.123</td>
</tr>
<tr class="row-even"><td>Spain</td>
<td>Camping Gear</td>
<td>5537</td>
<td>0.2311</td>
</tr>
<tr class="row-odd"><td>Spain</td>
<td>Mobile Phones</td>
<td>987</td>
<td>0.123</td>
</tr>
<tr class="row-even"><td>. . .</td>
<td>. . .</td>
<td>. . .</td>
<td>. . .</td>
</tr>
<tr class="row-odd"><td>France</td>
<td>Bicycles</td>
<td>12743</td>
<td>0.2357</td>
</tr>
<tr class="row-even"><td>France</td>
<td>Camping Gear</td>
<td>753</td>
<td>0.1124</td>
</tr>
<tr class="row-odd"><td>France</td>
<td>Bicycles</td>
<td>882</td>
<td>0.3575</td>
</tr>
</tbody>
</table>
<p>The dimensions supported by the reporting API have discrete values (like <em>Netherlands</em> or <em>Bicycles</em>), and the data is split by each such value, over which statistics (like <em>Clicks</em> or <em>Impressions</em>) are calculated.</p>
</div>
<div class="section" id="supported-dimensions">
<h3>Supported Dimensions<a class="headerlink" href="#supported-dimensions" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="11%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:date</span></code></td>
<td>String</td>
<td>The date when the events happened. See <a class="reference internal" href="#time-aggregation">Time Aggregation</a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:adID</span></code></td>
<td>Long</td>
<td>ID of the ad(s)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:CPC</span></code></td>
<td>Long</td>
<td>The Cost Per Click (in Cents) of the ad(s)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:categoryID</span></code></td>
<td>Long</td>
<td>The category ID of the ad(s)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:regionID</span></code></td>
<td>Long</td>
<td>The region ID of the ad(s)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:campaignID</span></code></td>
<td>Long</td>
<td>The ID of the campaign</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><em>Date</em> is a special dimension, in that you can specify the granularity of the timeseries breakdown. In other words, data is aggregated over units of time (such as days, weeks, months or years) when calculating metrics over it. See <a class="reference internal" href="#time-aggregation">Time Aggregation</a> for options on granularity.</p>
</div>
</div>
<div class="section" id="supported-metrics">
<h3>Supported Metrics<a class="headerlink" href="#supported-metrics" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="7%" />
<col width="7%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head"><a class="reference internal" href="#scope">Scope</a></th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:clicks</span></code></td>
<td>Long</td>
<td>Hit</td>
<td>Number of clicks</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:impressions</span></code></td>
<td>Long</td>
<td>Hit</td>
<td>Nnumber of impressions</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:websiteClicks</span></code></td>
<td>Long</td>
<td>Hit</td>
<td>Number of website clicks</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:emails</span></code></td>
<td>Long</td>
<td>Hit</td>
<td>Number of emails</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:engagements</span></code></td>
<td>Long</td>
<td>Hit</td>
<td>Number of engagements from clicks</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:viewCTR</span></code></td>
<td>Double</td>
<td>Hit</td>
<td>Number of clicks leads from impressions, also known as Click-through rate</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:websiteCTR</span></code></td>
<td>Double</td>
<td>Hit</td>
<td>Number of website leads from clicks</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:spent</span></code></td>
<td>Long</td>
<td>Hit</td>
<td>Amount spent (in Cents)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:engagementCTR</span></code></td>
<td>Double</td>
<td>Hit</td>
<td>Number of engagements leads from clicks</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:avgCPC</span></code></td>
<td>Double</td>
<td>Hit</td>
<td>Average Cost Per Click. Calculation</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:sessionsWithClicks</span></code></td>
<td>Long</td>
<td>Session</td>
<td>Number of unique sessions with clicks</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:sessionsWithImpressions</span></code></td>
<td>Long</td>
<td>Session</td>
<td>Number of unique sessions with impressions</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:sessionsWithWebsiteClicks</span></code></td>
<td>Long</td>
<td>Session</td>
<td>Number of unique sessions with website clicks</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:sessionsWithEmails</span></code></td>
<td>Long</td>
<td>Session</td>
<td>Number of unique sessions sending emails</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:sessionsWithEngagements</span></code></td>
<td>Long</td>
<td>Session</td>
<td>Number of unique sessions with engagements</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:sessionViewCTR</span></code></td>
<td>Double</td>
<td>Session</td>
<td>Number of unique sessions with clicks leads from unique sessions with impressions</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:sessionWebsiteCTR</span></code></td>
<td>Double</td>
<td>Session</td>
<td>Number of unique sessions with website leads from unique sessions with clicks</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:sessionEngagementCTR</span></code></td>
<td>Double</td>
<td>Session</td>
<td>Number of unique sessions with engagements leads from unique sessions with clicks</td>
</tr>
</tbody>
</table>
<div class="section" id="scope">
<h4>Scope<a class="headerlink" href="#scope" title="Permalink to this headline">¶</a></h4>
<p>A scope for a metric defines the level at which that metric is defined — hit, session, or user. For example, <code class="docutils literal"><span class="pre">am:clicks</span></code> and <code class="docutils literal"><span class="pre">am:impressions</span></code> are <strong>hit</strong> level metrics, since they occur in a hit, whereas <code class="docutils literal"><span class="pre">am:sessionsWithClicks</span></code> and <code class="docutils literal"><span class="pre">am:sessionsWithImpressions</span></code> are <strong>session</strong> level metrics since there is a single value for these per session. Conceptually, <strong>user</strong> is the highest level scope and <strong>hit</strong> is the lowest level scope. We plan to extend support for <strong>user</strong>-level scoped metrics if there is demand for it.</p>
</div>
</div>
</div>
<div class="section" id="time-ranges">
<h2>Time Ranges<a class="headerlink" href="#time-ranges" title="Permalink to this headline">¶</a></h2>
<p id="id2">This field is used to specify one ore more distinct time periods to fetch data for, across which all other query parameters will be the same.
Supplying a single range is sufficient for most needs, but the flexibility is provided to ask for multiple at the same time.</p>
<p id="time-range">Each time range clause is defined as follows:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;period&quot;</span><span class="p">:</span>   <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>
    <span class="s2">&quot;from&quot;</span><span class="p">:</span>     <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>
    <span class="s2">&quot;to&quot;</span><span class="p">:</span>       <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>There are several <em>predefined</em> period values at your disposal: <code class="docutils literal"><span class="pre">today</span></code>, <code class="docutils literal"><span class="pre">yesterday</span></code>, <code class="docutils literal"><span class="pre">thisWeek</span></code>, <code class="docutils literal"><span class="pre">lastWeek</span></code>, <code class="docutils literal"><span class="pre">thisMonth</span></code>, <code class="docutils literal"><span class="pre">lastMonth</span></code>, <code class="docutils literal"><span class="pre">thisYear</span></code>, and <code class="docutils literal"><span class="pre">lastYear</span></code>, with their obvious meanings. A week runs from Monday to Sunday.
If you use a predefined period for a particular time range, the <em>from</em> and <em>to</em> fields of that time range will be ignored.</p>
<p>To use a <em>custom</em> period, you need to provide the start (<em>from</em>) and end (<em>to</em>) date (<strong>both inclusive</strong>) in the following format: <code class="docutils literal"><span class="pre">YYYY-MM-DD</span></code>.
The end date cannot be before the start one. For example:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;timeRanges&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
            <span class="s2">&quot;period&quot;</span><span class="p">:</span>   <span class="s2">&quot;custom&quot;</span><span class="p">,</span>
            <span class="s2">&quot;from&quot;</span><span class="p">:</span>     <span class="s2">&quot;2017-01-01&quot;</span><span class="p">,</span>
            <span class="s2">&quot;to&quot;</span><span class="p">:</span>       <span class="s2">&quot;2017-10-22&quot;</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Example with multiple time ranges, mixed custom and predefined:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;timeRanges&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;period&quot;</span><span class="p">:</span>   <span class="s2">&quot;thisWeek&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;period&quot;</span><span class="p">:</span>   <span class="s2">&quot;custom&quot;</span><span class="p">,</span>
        <span class="s2">&quot;from&quot;</span><span class="p">:</span>     <span class="s2">&quot;2017-01-08&quot;</span><span class="p">,</span>
        <span class="s2">&quot;to&quot;</span><span class="p">:</span>       <span class="s2">&quot;2017-01-15&quot;</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="time-aggregation">
<h2>Time Aggregation<a class="headerlink" href="#time-aggregation" title="Permalink to this headline">¶</a></h2>
<p id="id3">The <code class="docutils literal"><span class="pre">aggregate</span></code> parameter is used in combination with the <code class="docutils literal"><span class="pre">am:date</span></code> dimension; <code class="docutils literal"><span class="pre">aggregate</span></code> is in fact <strong>mandatory</strong> when <code class="docutils literal"><span class="pre">am:date</span></code> is used. It specifies the granularity/resolution of the time according to which the metrics data will be grouped in buckets. Possible values are: <code class="docutils literal"><span class="pre">daily</span></code>, <code class="docutils literal"><span class="pre">weekly</span></code>, <code class="docutils literal"><span class="pre">quarterly</span></code>, <code class="docutils literal"><span class="pre">montly</span></code>, <code class="docutils literal"><span class="pre">yearly</span></code>.</p>
</div>
<div class="section" id="filters">
<h2>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h2>
<p id="id4">To request a subset of your data, use filters. For example, you can filter on particular category, region, or ad ID. Filters can currently be used on any of the supported dimensions (except for <code class="docutils literal"><span class="pre">am:date</span></code>). In the request query, they should be provided as an array of filter clauses which filters out the requested data on particular field values. Each filter clause is of the following form:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span>   <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>
        <span class="s2">&quot;operator&quot;</span><span class="p">:</span>  <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>
        <span class="s2">&quot;value&quot;</span><span class="p">:</span>  <span class="p">[</span><span class="o">&lt;</span><span class="n">long</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Each filter in the list adds more restriction on the result, i.e., there is implicit <em>AND</em> operation between them.
The only valid <code class="docutils literal"><span class="pre">operator</span></code> at the moment is the set operator <code class="docutils literal"><span class="pre">in</span></code>, and requires an array of values to be passed in the <code class="docutils literal"><span class="pre">value</span></code> field of the filter. For example:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span><span class="s2">&quot;am:adID&quot;</span><span class="p">,</span>
        <span class="s2">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;in&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1111</span><span class="p">,</span><span class="mi">2222</span><span class="p">,</span><span class="mi">3333</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span><span class="s2">&quot;am:regionID&quot;</span><span class="p">,</span>
        <span class="s2">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;in&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1234</span><span class="p">,</span> <span class="mi">5678</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="sorting">
<span id="sorts"></span><h2>Sorting<a class="headerlink" href="#sorting" title="Permalink to this headline">¶</a></h2>
<p>To sort the resulting data, use the <strong>sorts</strong> top-level query field. Sorts is an array of sort clauses, each of the following form:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;field&quot;</span><span class="p">:</span>        <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>
    <span class="s2">&quot;direction&quot;</span><span class="p">:</span>    <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A field can be either a valid metric or a valid dimension. It is only permitted to sort on the fields that are requested. There are two directions for sorting: <code class="docutils literal"><span class="pre">asc</span></code> (ascending) and <code class="docutils literal"><span class="pre">desc</span></code> (descending).
The following example sorts first on date in descending order, followed by the ad ID in ascending order.</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;sorts&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;field&quot;</span><span class="p">:</span><span class="s2">&quot;am:date&quot;</span><span class="p">,</span>
            <span class="s2">&quot;direction&quot;</span><span class="p">:</span><span class="s2">&quot;desc&quot;</span>

        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;field&quot;</span><span class="p">:</span><span class="s2">&quot;am:adID&quot;</span><span class="p">,</span>
            <span class="s2">&quot;direction&quot;</span><span class="p">:</span><span class="s2">&quot;asc&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="pagination-with-offset-and-limit">
<h2>Pagination with offset and limit<a class="headerlink" href="#pagination-with-offset-and-limit" title="Permalink to this headline">¶</a></h2>
<p>Depending on the amount and shape of the requested data, it is worthwhile to paginate the results, for efficiency. Use the top-level <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">limit</span></code> fields of the request query, with their standard meanings.</p>
</div>
<div class="section" id="enrichment">
<h2>Enrichment<a class="headerlink" href="#enrichment" title="Permalink to this headline">¶</a></h2>
<p>It is possible to enrich the reports with &#8220;handy&#8221; ad-related data for which only the present-moment values are available, such as the ad title, or category description. Requesting these fields makes sense <strong>only</strong> if <code class="docutils literal"><span class="pre">am:adID</span></code> is in the requested dimensions. The supported fields are listed below:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="8%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:currentAdTitle</span></code></td>
<td>String</td>
<td>Current title of the ad</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:currentAdStartDate</span></code></td>
<td>Timestamp</td>
<td>Current start date of the ad</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:currentAdEndDate</span></code></td>
<td>Timestamp</td>
<td>Current end date of the ad, if applicable</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:currentAdCPC</span></code></td>
<td>Integer</td>
<td>Currect CPC of the ad</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:currentAdCategoryL1</span></code></td>
<td>String</td>
<td>Description of the current top-level category the ad</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:currentAdCategoryL2</span></code></td>
<td>String</td>
<td>Description of the current second-level category the ad</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:currentAdCategoryL3</span></code></td>
<td>String</td>
<td>Description of the current third-level category the ad, if applicable</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:currentAdImage</span></code></td>
<td>String</td>
<td>Path to the current (first) image of the ad in the smallest resolution (64x64 pixels), if available</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:currentAdVendorID</span></code></td>
<td>String</td>
<td>Current vendorID of the ad, if available</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:currentAdRegion</span></code></td>
<td>String</td>
<td>Description of the current (lowest-level) region of the ad, if applicable</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:currentAdExternalID</span></code></td>
<td>String</td>
<td>Current externalID of the ad, if available</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:currentCampaignID</span></code></td>
<td>Long</td>
<td>Current campaignID to which the ad belongs // TODO: need to check if this makes sense in general</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="query-and-response">
<h2>Query and Response<a class="headerlink" href="#query-and-response" title="Permalink to this headline">¶</a></h2>
<div class="section" id="query">
<h3>Query<a class="headerlink" href="#query" title="Permalink to this headline">¶</a></h3>
<p>The metrics query should be provided as a JSON object of type <a class="reference internal" href="#metrics-request">Metrics Request</a>, which has these minimum requirements:</p>
<ul class="simple">
<li>At least one valid entry in the  <a class="reference internal" href="#id2"><span class="std std-ref">Time Ranges</span></a> field.</li>
<li>At least one valid entry in the <a class="reference internal" href="#id1"><span class="std std-ref">Metrics</span></a> field.</li>
</ul>
<p>Here is a sample request with all top-level query fields expanded:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">POST</span> <span class="o">/</span><span class="nx">api</span><span class="o">/</span><span class="nx">sellside</span><span class="o">/</span><span class="nx">metrics</span><span class="o">/</span><span class="nx">data</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">sellside</span><span class="p">.</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">data</span><span class="o">-</span><span class="nx">v1</span><span class="o">+</span><span class="nx">json</span>
<span class="nx">Accept</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;timeRanges&quot;</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s2">&quot;period&quot;</span><span class="p">:</span> <span class="s2">&quot;lastWeek&quot;</span>
  <span class="p">}],</span>
  <span class="s2">&quot;aggregate&quot;</span><span class="p">:</span> <span class="s2">&quot;daily&quot;</span><span class="p">,</span>
  <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;am:date&quot;</span><span class="p">,</span> <span class="s2">&quot;am:adID&quot;</span><span class="p">],</span>
  <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;am:clicks&quot;</span><span class="p">,</span> <span class="s2">&quot;am:impressions&quot;</span><span class="p">,</span> <span class="s2">&quot;am:engagementCTR&quot;</span><span class="p">],</span>
  <span class="s2">&quot;sorts&quot;</span><span class="p">:[{</span><span class="s2">&quot;field&quot;</span><span class="p">:</span><span class="s2">&quot;date&quot;</span><span class="p">,</span><span class="s2">&quot;direction&quot;</span><span class="p">:</span><span class="s2">&quot;asc&quot;</span><span class="p">}],</span>
  <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[{</span>
      <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;am:categoryID&quot;</span><span class="p">,</span>
      <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
      <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1235</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;am:regionID&quot;</span><span class="p">,</span>
      <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
      <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;enrichment&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;am:currentAdTitle&quot;</span><span class="p">,</span>
    <span class="s2">&quot;am:currentAdCategoryL1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;am:currentAdStartDate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;am:currentAdEndDate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;am:currentAdVendorID&quot;</span><span class="p">,</span>
    <span class="s2">&quot;am:currentAdRegion&quot;</span><span class="p">,</span>
    <span class="s2">&quot;am:currentAdImage&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="metrics-request">
<h4>Metrics Request<a class="headerlink" href="#metrics-request" title="Permalink to this headline">¶</a></h4>
<p>The data model of the request has the following structure:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;timeRanges&quot;</span><span class="o">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="nx">timeRange</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...],</span>
    <span class="s2">&quot;aggregate&quot;</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;dimensions&quot;</span><span class="o">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...],</span>
    <span class="s2">&quot;metrics&quot;</span><span class="o">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...],</span>
    <span class="s2">&quot;sorts&quot;</span><span class="o">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="nx">sort</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...],</span>
    <span class="s2">&quot;filters&quot;</span><span class="o">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="nx">filter</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...],</span>
    <span class="s2">&quot;enrichment&quot;</span><span class="o">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...],</span>
    <span class="s2">&quot;limit&quot;</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">integer</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;offset&quot;</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">integer</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;searchPhrase&quot;</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">timeRanges</span></code></td>
<td>Array of <a class="reference internal" href="#id2"><span class="std std-ref">Time Ranges</span></a> objects, separated by commas</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">aggregate</span></code></td>
<td>One of <a class="reference internal" href="#id3"><span class="std std-ref">Time Aggregation</span></a> string values</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dimensions</span></code></td>
<td>Array of dimensions, separated by commas</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">metrics</span></code></td>
<td>Array of metrics, separated by commas. At least one element is mandatory</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sorts</span></code></td>
<td>Array of <a class="reference internal" href="#sorts"><span class="std std-ref">Sort</span></a>  objects, separated by commas</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">filters</span></code></td>
<td>Array of <a class="reference internal" href="#id4"><span class="std std-ref">Filters</span></a> objects, separated by commas</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">enrichment</span></code></td>
<td>Array of ad enrichment fields, separated by commas</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">limit</span></code></td>
<td>Number of elements in the response, per time range. By default there is no limit</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">offset</span></code></td>
<td>Index of first row of the requested data (per time range), beginning with 0</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">searchPhrase</span></code></td>
<td>String to match against an ad title</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="response">
<h3>Response<a class="headerlink" href="#response" title="Permalink to this headline">¶</a></h3>
<p>The response body of the API request is a JSON object of <a class="reference internal" href="#metrics-response">Metrics Response</a> type. Here is a sample response for the sample request above.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s2">&quot;rows&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-01-10 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;4444&quot;</span><span class="p">],</span>
        <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mf">0.634</span><span class="p">],</span>
        <span class="s2">&quot;enrichment&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;Some title of ad #4444&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Category L1 description&quot;</span><span class="p">,</span>
          <span class="s2">&quot;2016-02-10 10:15:15&quot;</span><span class="p">,</span>
          <span class="s2">&quot;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;fsd23432&quot;</span><span class="p">,</span>
          <span class="s2">&quot;City of Toronto&quot;</span><span class="p">,</span>
          <span class="s2">&quot;https://i.ebayimg.com/00/s/MjY1WDI2NQ==/z/0LwAAOSwhrpcB9eE/$_14.JPG&quot;</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-01-11 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;5555&quot;</span><span class="p">],</span>
        <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mf">0.244</span><span class="p">],</span>
        <span class="s2">&quot;enrichment&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;Some title of ad #5555&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Category L1 description&quot;</span><span class="p">,</span>
          <span class="s2">&quot;2016-05-11 09:10:15&quot;</span><span class="p">,</span>
          <span class="s2">&quot;2016-07-11 06:10:10&quot;</span><span class="p">,</span>
          <span class="s2">&quot;123425d&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Canada&quot;</span>
          <span class="s2">&quot;https://i.ebayimg.com/00/s/MjY1WDI2NQ==/z/0LwAAOSwhrpcB9eE/$_14.JPG&quot;</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-01-12 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;4444&quot;</span><span class="p">],</span>
        <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">34</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mf">0.252</span><span class="p">],</span>
        <span class="s2">&quot;enrichment&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;Some title of ad #4444&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Category L1 description&quot;</span><span class="p">,</span>
          <span class="s2">&quot;2016-02-10 10:15:15&quot;</span><span class="p">,</span>
          <span class="s2">&quot;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;fsd23432&quot;</span><span class="p">,</span>
          <span class="s2">&quot;City of Toronto&quot;</span><span class="p">,</span>
          <span class="s2">&quot;https://i.ebayimg.com/00/s/MjY1WDI2NQ==/z/0LwAAOSwhrpcB9eE/$_14.JPG&quot;</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-01-13 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;5555&quot;</span><span class="p">],</span>
        <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">55</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mf">0.312</span><span class="p">],</span>
        <span class="s2">&quot;enrichment&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;Some title of ad #5555&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Category L1 description&quot;</span><span class="p">,</span>
          <span class="s2">&quot;2016-05-11 09:10:15&quot;</span><span class="p">,</span>
          <span class="s2">&quot;2016-07-11 06:10:10&quot;</span><span class="p">,</span>
          <span class="s2">&quot;123425d&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Canada&quot;</span><span class="p">,</span>
          <span class="s2">&quot;https://i.ebayimg.com/00/s/MjY1WDI2NQ==/z/0LwAAOSwhrpcB9eE/$_14.JPG&quot;</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-01-14 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;5555&quot;</span><span class="p">],</span>
        <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">43</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mf">0.543</span><span class="p">]</span>
        <span class="s2">&quot;enrichment&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;Some title of ad #5555&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Category L1 description&quot;</span><span class="p">,</span>
          <span class="s2">&quot;2016-05-11 09:10:15&quot;</span><span class="p">,</span>
          <span class="s2">&quot;2016-07-11 06:10:10&quot;</span><span class="p">,</span>
          <span class="s2">&quot;123425d&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Canada&quot;</span><span class="p">,</span>
          <span class="s2">&quot;https://i.ebayimg.com/00/s/MjY1WDI2NQ==/z/0LwAAOSwhrpcB9eE/$_14.JPG&quot;</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">5</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="section" id="metrics-response">
<h4>Metrics Response<a class="headerlink" href="#metrics-response" title="Permalink to this headline">¶</a></h4>
<p>The data model of the response has the following structure:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;rows&quot;</span><span class="o">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;dimensions&quot;</span><span class="o">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...</span> <span class="p">],</span>
                    <span class="s2">&quot;metrics&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...]</span>
                    <span class="s2">&quot;enrichment&quot;</span><span class="o">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...]</span>
                <span class="p">}</span>
            <span class="p">,</span> <span class="p">...],</span>
        <span class="s2">&quot;count&quot;</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">integer</span><span class="o">&gt;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">rows</span></code></td>
<td>Array of <code class="docutils literal"><span class="pre">dimensions</span></code>, <code class="docutils literal"><span class="pre">metrics</span></code> and <code class="docutils literal"><span class="pre">enrichment</span></code> values. Each element is one row of a response</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">dimensions</span></code></td>
<td>Array of dimension values for this row, in string format</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">metrics</span></code></td>
<td>Array of metric values for this row, in number format</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">enrichment</span></code></td>
<td>Array of enrichment values for this row, in string format. Valid only if <code class="docutils literal"><span class="pre">am:adID</span></code> is in the requested dimensions</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">count</span></code></td>
<td>Actual number of rows returned</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">data</span></code> field contains an array of objects, one for each of the requested <a class="reference internal" href="#id2"><span class="std std-ref">Time Ranges</span></a>. It is <strong>important to remember</strong> that the order in which the <code class="docutils literal"><span class="pre">metrics</span></code>, <code class="docutils literal"><span class="pre">dimensions</span></code>, and <code class="docutils literal"><span class="pre">enrichment</span></code> fields are requested is the same order in which they are listed in the response. The order of the objects in the <cite>rows</cite> array is not guaranteed to be deterministic unless explicit <cite>Sorting &lt;Sorts&gt;</cite> is used.</p>
</div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>To understand the concept of dimensions and metrics, some examples of request and response are provided below, gradually increasing in complexity. In addition, a &#8220;tabular&#8221; view of the response is provided; in our experience it makes it easier to grasp these concepts.</p>
<div class="section" id="example-1">
<h3>Example 1:<a class="headerlink" href="#example-1" title="Permalink to this headline">¶</a></h3>
<p>Get all clicks and impressions for category <code class="docutils literal"><span class="pre">1234</span></code> for the previous week:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">sellside</span><span class="o">/</span><span class="n">metrics</span><span class="o">/</span><span class="n">data</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">sellside</span><span class="o">.</span><span class="n">metrics</span><span class="o">.</span><span class="n">data</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span>
<span class="n">Accept</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
<span class="p">{</span>
    <span class="s2">&quot;timeRanges&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;period&quot;</span><span class="p">:</span> <span class="s2">&quot;lastWeek&quot;</span>
    <span class="p">}],</span>
    <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;am:clicks&quot;</span><span class="p">,</span> <span class="s2">&quot;am:impressions&quot;</span><span class="p">],</span>
    <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;am:categoryID&quot;</span><span class="p">,</span>
        <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1234</span><span class="p">]</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;rows&quot;</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1483</span><span class="p">,</span> <span class="mi">36623</span><span class="p">]</span> <span class="o">//</span> <span class="mi">1483</span> <span class="n">clicks</span><span class="p">,</span> <span class="mi">36623</span> <span class="n">impressions</span>
        <span class="p">}],</span>
    <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">am:clicks</th>
<th class="head">am:impressions</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1483</td>
<td>36623</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="example-2">
<h3>Example 2:<a class="headerlink" href="#example-2" title="Permalink to this headline">¶</a></h3>
<p>Get all clicks and impressions for categories <code class="docutils literal"><span class="pre">1234</span></code> and <code class="docutils literal"><span class="pre">5678</span></code> for the previous week, but split performance metrics per category:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">sellside</span><span class="o">/</span><span class="n">metrics</span><span class="o">/</span><span class="n">data</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">sellside</span><span class="o">.</span><span class="n">metrics</span><span class="o">.</span><span class="n">data</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span>
<span class="n">Accept</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
<span class="p">{</span>
    <span class="s2">&quot;timeRanges&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;period&quot;</span><span class="p">:</span> <span class="s2">&quot;lastWeek&quot;</span>
    <span class="p">}],</span>
    <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;am:categoryID&quot;</span><span class="p">],</span>
    <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;am:clicks&quot;</span><span class="p">,</span> <span class="s2">&quot;am:impressions&quot;</span><span class="p">],</span>
    <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;am:categoryID&quot;</span><span class="p">,</span>
        <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1234</span><span class="p">,</span> <span class="mi">5678</span><span class="p">]</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;rows&quot;</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1234&quot;</span><span class="p">],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">400</span><span class="p">]</span> <span class="o">//</span> <span class="mi">200</span> <span class="n">clicks</span><span class="p">,</span> <span class="mi">400</span> <span class="n">impressions</span> <span class="k">for</span> <span class="n">category</span> <span class="s2">&quot;1234&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;5678&quot;</span><span class="p">],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">]</span>
        <span class="p">}],</span>
    <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="23%" />
<col width="43%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">am:categoryID</th>
<th class="head">am:clicks</th>
<th class="head">am:impressions</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1234</td>
<td>200</td>
<td>400</td>
</tr>
<tr class="row-odd"><td>5678</td>
<td>300</td>
<td>400</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="example-3">
<h3>Example 3:<a class="headerlink" href="#example-3" title="Permalink to this headline">¶</a></h3>
<p>Get all clicks and impressions for categories <code class="docutils literal"><span class="pre">1234</span></code> and <code class="docutils literal"><span class="pre">5678</span></code> for the previous week, but split performance metrics per day and category. In addition, sort by date in ascending direction:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">sellside</span><span class="o">/</span><span class="n">metrics</span><span class="o">/</span><span class="n">data</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">sellside</span><span class="o">.</span><span class="n">metrics</span><span class="o">.</span><span class="n">data</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span>
<span class="n">Accept</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
<span class="p">{</span>
    <span class="s2">&quot;timeRanges&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;period&quot;</span><span class="p">:</span> <span class="s2">&quot;lastWeek&quot;</span>
    <span class="p">}],</span>
    <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;am:date&quot;</span><span class="p">,</span> <span class="s2">&quot;am:categoryID&quot;</span><span class="p">],</span>
    <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;am:clicks&quot;</span><span class="p">,</span> <span class="s2">&quot;am:impressions&quot;</span><span class="p">],</span>
    <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;am:categoryID&quot;</span><span class="p">,</span>
        <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1234</span><span class="p">,</span> <span class="mi">5678</span><span class="p">]</span>
    <span class="p">}],</span>
    <span class="s2">&quot;sorts&quot;</span><span class="p">:[</span>
    <span class="p">{</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span><span class="s2">&quot;am:date&quot;</span><span class="p">,</span>
        <span class="s2">&quot;direction&quot;</span><span class="p">:</span><span class="s2">&quot;asc&quot;</span>
    <span class="p">}],</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;rows&quot;</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-12-08 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;1234&quot;</span><span class="p">],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-12-08 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;5678&quot;</span><span class="p">],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-12-09 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;1234&quot;</span><span class="p">],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">34</span><span class="p">,</span> <span class="mi">67</span><span class="p">]</span>
        <span class="p">},</span>
                    <span class="p">{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-12-09 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;5678&quot;</span><span class="p">],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="o">...</span>
        <span class="p">{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-12-14 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;1234&quot;</span><span class="p">],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">90</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-12-14 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;5678&quot;</span><span class="p">],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">43</span><span class="p">,</span> <span class="mi">76</span><span class="p">]</span>
        <span class="p">}],</span>
    <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">54</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="23%" />
<col width="15%" />
<col width="29%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">am:date</th>
<th class="head">am:categoryID</th>
<th class="head">am:clicks</th>
<th class="head">am:impressions</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>2018-12-08 00:00:00</td>
<td>1234</td>
<td>11</td>
<td>12</td>
</tr>
<tr class="row-odd"><td>2018-12-08 00:00:00</td>
<td>5678</td>
<td>9</td>
<td>20</td>
</tr>
<tr class="row-even"><td>2018-12-09 00:00:00</td>
<td>1234</td>
<td>34</td>
<td>67</td>
</tr>
<tr class="row-odd"><td>2018-12-09 00:00:00</td>
<td>5678</td>
<td>19</td>
<td>20</td>
</tr>
<tr class="row-even"><td>...</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>2018-12-14 00:00:00</td>
<td>1234</td>
<td>12</td>
<td>90</td>
</tr>
<tr class="row-even"><td>2018-12-14 00:00:00</td>
<td>5678</td>
<td>43</td>
<td>76</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="example-4">
<h3>Example 4:<a class="headerlink" href="#example-4" title="Permalink to this headline">¶</a></h3>
<p>Get all clicks, and average CPC for categories <code class="docutils literal"><span class="pre">1234</span></code> and <code class="docutils literal"><span class="pre">5678</span></code> for the previous week, but split performance metrics per ad ID. In addition, enrich the response rows with current ad title and vendorID. Limit to 3 results:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">sellside</span><span class="o">/</span><span class="n">metrics</span><span class="o">/</span><span class="n">data</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">sellside</span><span class="o">.</span><span class="n">metrics</span><span class="o">.</span><span class="n">data</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span>
<span class="n">Accept</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
<span class="p">{</span>
    <span class="s2">&quot;timeRanges&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;period&quot;</span><span class="p">:</span> <span class="s2">&quot;lastWeek&quot;</span>
    <span class="p">}],</span>
    <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;am:adID&quot;</span><span class="p">],</span>
    <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;am:clicks&quot;</span><span class="p">,</span> <span class="s2">&quot;am:avgCPC&quot;</span><span class="p">],</span>
    <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;am:categoryID&quot;</span><span class="p">,</span>
            <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1234</span><span class="p">,</span> <span class="mi">5678</span><span class="p">]</span>
    <span class="p">}],</span>
    <span class="s2">&quot;enrichment&quot;</span><span class="p">:[</span><span class="s2">&quot;am:currentAdTitle&quot;</span><span class="p">,</span> <span class="s2">&quot;am:currentAdVendorID&quot;</span><span class="p">]</span>
    <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">3</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;rows&quot;</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;11111&quot;</span><span class="p">],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">],</span>
            <span class="s2">&quot;enrichment&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;Ad title #11111&quot;</span><span class="p">,</span>
                <span class="s2">&quot;vendor11111&quot;</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;33333&quot;</span><span class="p">],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span>
            <span class="s2">&quot;enrichment&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;Ad title #33333&quot;</span><span class="p">,</span>
                <span class="s2">&quot;vendor33333&quot;</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;22222&quot;</span><span class="p">],</span>
            <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">34</span><span class="p">,</span>  <span class="mf">2.3</span><span class="p">],</span>
                <span class="s2">&quot;enrichment&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;Ad title #33333&quot;</span><span class="p">,</span>
                <span class="s2">&quot;vendor33333&quot;</span>
            <span class="p">]</span>
        <span class="p">}],</span>
    <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">3</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="15%" />
<col width="20%" />
<col width="21%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">am:adID</th>
<th class="head">am:clicks</th>
<th class="head">am:avgCPC</th>
<th class="head">am:currentAdTitle</th>
<th class="head">am:currentAdVendorID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>11111</td>
<td>11</td>
<td>4.5</td>
<td>Ad title #11111</td>
<td>vendor11111</td>
</tr>
<tr class="row-odd"><td>33333</td>
<td>9</td>
<td>3.0</td>
<td>Ad title #33333</td>
<td>vendor33333</td>
</tr>
<tr class="row-even"><td>22222</td>
<td>34</td>
<td>2.3</td>
<td>Ad title #22222</td>
<td>vendor22222</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="final-remarks">
<h3>Final remarks:<a class="headerlink" href="#final-remarks" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>In the <a class="reference internal" href="#sql-note"><span class="std std-ref">SQL note</span></a>, the enrichment fields can be seen as a left outer join operation.</li>
<li>The reporting numbers may slightly differ (±0.005%) from the final billing values, due to the nature of the system where we store the reporting data.</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="errors">
<h2>Errors<a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h2>
<p>Each error contains a <code class="docutils literal"><span class="pre">code</span></code> and <code class="docutils literal"><span class="pre">text</span></code> attributes providing a numeric error code and a simple English error message. An error may contain a <code class="docutils literal"><span class="pre">field</span></code> attribute describing the field where the error occurred and an additonal <code class="docutils literal"><span class="pre">arg</span></code> attribute further specifying the error.</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="6%" />
<col width="23%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Code</th>
<th class="head">Message</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>entire response object</td>
<td>1000</td>
<td>internal error</td>
<td>Failed to execute query</td>
</tr>
<tr class="row-odd"><td>entire request object</td>
<td>1005</td>
<td>invalid json</td>
<td>Could not parse request data</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">am:date</span></code></td>
<td>2000</td>
<td>missing argument</td>
<td>The field &#8216;aggregate&#8217; was missing</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">am:metrics</span></code></td>
<td>2000</td>
<td>missing argument</td>
<td>The field &#8216;metrics&#8217; was missing</td>
</tr>
<tr class="row-even"><td>any non-allowed field</td>
<td>2001</td>
<td>invalid argument</td>
<td>The value of field &#8216;dimensions:[am:wrongDimension]&#8217; was invalid</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="error-handling.html" class="btn btn-neutral float-right" title="Error Handling"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="feeds.html" class="btn btn-neutral" title="XML Feeds"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019 The iCAS Team.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.200',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>